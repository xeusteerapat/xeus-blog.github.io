<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.72d09021ce3a216d36b2.css">.header-module--header--3A712{padding:1rem 0 3rem}.header-module--title--33kOg{color:#000;font-size:3rem;text-decoration:none}.header-module--nav-list--87D9u{display:flex;list-style-type:none;margin:0}.header-module--nav-item--1ixk0{color:#999;font-size:.9rem;margin-right:1.3rem;text-decoration:none}.header-module--nav-item--1ixk0:hover{color:#666}.header-module--active-nav-item--26N0B{color:#333}.footer-module--footer--R2bpz{margin-top:3rem}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:sans-serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{font-size:2.25rem}h1,h2{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}.layout-module--container--2TGku{margin:0 auto;max-width:750px;padding:1rem;display:flex;flex-direction:column;min-height:100vh}.layout-module--content--3nIku{flex-grow:1}.blog-module--posts--a25pe{list-style-type:none;margin:0}.blog-module--post--1jMia{margin:1rem 0}.blog-module--post--1jMia a{background:#f4f4f4;color:#000;display:block;padding:1rem;text-decoration:none}.blog-module--post--1jMia a:hover{background:#e4e4e4}.blog-module--post--1jMia h2{margin-bottom:0}.blog-module--post--1jMia p{color:#777;font-size:.8rem;font-style:italic}</style><meta name="generator" content="Gatsby 2.22.12"/><title data-react-helmet="true">Rest API with node and Typescript | Hello, World</title><link as="script" rel="preload" href="/webpack-runtime-ad969fdba1f8fd72bf44.js"/><link as="script" rel="preload" href="/framework-64f3795d64a6338f8fd0.js"/><link as="script" rel="preload" href="/app-7c8a4a9d5c0752ddb204.js"/><link as="script" rel="preload" href="/styles-9b6f388623a2ec93d35f.js"/><link as="script" rel="preload" href="/c586bda9efbc7530837acf9773422eadb5d6eff5-2914c1eedea1493168c5.js"/><link as="script" rel="preload" href="/component---src-templates-blog-js-867934d5ffdf2c9a0ba9.js"/><link as="fetch" rel="preload" href="/page-data/blog/rest-api-with-node-typescript/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="layout-module--container--2TGku"><div class="layout-module--content--3nIku"><header class="header-module--header--3A712"><h1><a class="header-module--title--33kOg" href="/">Hello, World</a></h1><nav><ul class="header-module--nav-list--87D9u"><li><a class="header-module--nav-item--1ixk0" href="/">Home</a></li><li><a class="header-module--nav-item--1ixk0" href="/blog">Blog</a></li><li><a class="header-module--nav-item--1ixk0" href="/about">About</a></li><li><a class="header-module--nav-item--1ixk0" href="/contact">Contact</a></li><li><a class="header-module--nav-item--1ixk0" href="/project">Project</a></li></ul></nav></header><h1>Rest API with node and Typescript</h1><p>2020-05-07</p><div><p>สวัสดีครับ วันนี้ขอนำเสนอบทความเกี่ยวกับการใช้ Node.js และ Typescript เพื่อสร้าง Rest API นะครับ เนื่องจากว่าได้รับมอบหมายให้ใช้ Typescript ทำโปรเจ็คขึ้นมาตัวนึง เลยคิดว่าเขียน blog ไว้ด้วยเลยดีกว่า ภาพรวมก็จะคล้าย ๆ กับ <a href="https://xeusteerapat.github.io/blog/node-sequelize-rest-api">บทความก่อนหน้า</a> แต่ว่าคราวนี้ผมเปลี่ยนไปใช้ ORM อีกตัวนึงนั่นก็คือ <a href="https://typeorm.io/#/">TypeORM</a> สาเหตุที่ไม่ได้ใช้ Sequelize เหมือนครั้งก่อนเพราะว่าตัวอย่างใน Doc ของ Sequlize ที่ใช้ Typescript มีน้อยมากกก (อ่านดูแล้วไม่ได้ช่วยอะไรใดๆ เลย 555555) แล้วทีนี้ลองมาศึก TypeORM ดู พบว่าเค้าเขียนเพื่อรองรับกับ Typescript โดยเฉพาะเลย อีกทั้งการทำ CRUD ก็คล้ายๆ กับวิธีการของ Sequelize ดังนั้นก็เลยเปลี่ยนมาใช้ TypeORM ครับ</p>
<p><a href="https://github.com/xeusteerapat/node-typeorm-crud">Github Repo</a></p>
<h2>What is Typescript?</h2>
<p>Typescript เป็น super set ของ Javascript นั่นหมายความว่าทุกอย่างที่ Javascript เขียนได้ ก็สามารถเขียนใน Typescript ได้เช่นกัน แล้วมันต่างจาก Javascript ยังไง? เรารู้กันอยู่แล้วว่า Javascript เป็น Dynamic Typed คือไม่ต้องประกาศว่าเป็น number, string, boolean บลาๆๆๆ แต่ Typescript นั้นเป็น Static Typed ทำให้เราสามารถเขียน Javascript ได้โดยมี type กำกับ และสุดท้าย Typescript ก็จะถูก compile ให้กลายเป็น Javascript ธรรมดาเพื่อให้ใช้งานได้ใน browser ทั่วไปครับ</p>
<p>บทความนี้ผมเขียนโดยใช้ Typescript ก็จริงแต่ว่าจะไม่ได้เน้นการใช้ Features ที่ advance มากนัก เพราะผมเองก็เพิ่งหัดเขียน Typescript ได้ไม่นานเท่าไหร่ สำหรับคนที่มีพื้นฐาน Javascript อยู่แล้วก็สามารถทำตามได้อย่างไม่ยากครับ</p>
<p>เริ่มกันเลยครับ</p>
<h2>Project Setup</h2>
<p>ใครที่ยังไม่ลง Typescript ก็สามรถติดตั้งได้ผ่าน <code>npm</code> ครับ</p>
<pre class="grvsc-container dark-default-dark" data-language="bash" data-index="0"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk1">npm install -g typescript ts-node</span></span></code></pre>
<p>ทีนี้ลองเช็คดูว่าติดตั้งเรียบร้อยดีมั้ยโดยพิมพ์</p>
<pre class="grvsc-container dark-default-dark" data-language="bash" data-index="1"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk1">tsc -h</span></span></code></pre>
<p>ขึ้นแบบรูปข้างล่างก็โอเคครับ</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 750px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 60.1063829787234%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAAB/klEQVQoz4VTa2/aQBC8ShW0aR7kRTAEg8EmxqQQwDYBTMxTJOQl2qat+kf686c7hxzRqlU/jG7vzjs7O3tW8c8XuMEStWAOqz1G6SqC2YxQakUoNIYoXA5geH2NnDfBUXeAjCeoznDgjLFXHmKvNJB1A+X6axQ+LnFYjZGrL5BvLHHsSKI9xn55hHS+h7e5ACkjFARI50KkJU7nfUGAd4XwNyiru8JZfSaYiro71MInUbWQAiMcWEOcXkx0/P48FPT+C5WpRHhz2sZJbQwneMJl9AXV7gOKzVtRuxDVM+xKS6zOhD8VJXglLIuqYyfWPuyafVEVYV+UsdBh9Uafb5Mlidvx9plygkcZxr1Wx8PEF65JnCRwf2THsCXHlA6szj0ues+6eErudorXUMXmEhW5YHs7//AlIU0ZvramdfNVe12/XqPeX8P2H2X/jKz4rTgAkhqNuTb/b74QrM4z2tMcvWiCxuCz9pzEV/E3LUxZnZVuly3wI8acLJVwIFwNb45zeVosnHWnWpHVXuk97SJRWfaa0PYf9FRZyWzdbtQKARM5nEQdwTgjXTCRBSiCT41xqXWnbVNslXK9/id90J3+ACfPAiRli/w4UxlpteyCgyBJRYSQkEhixUsSnklyZ/IdrvhBpZwgTaYqPp0P5kYliWlF1p28WpN0xB/kF6RCZX0cYxKVAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="tsc"
        title="tsc"
        src="/static/426d237ce56a3d85c4a8489aa63e0166/1d69c/tsc.png"
        srcset="/static/426d237ce56a3d85c4a8489aa63e0166/4dcb9/tsc.png 188w,
/static/426d237ce56a3d85c4a8489aa63e0166/5ff7e/tsc.png 375w,
/static/426d237ce56a3d85c4a8489aa63e0166/1d69c/tsc.png 750w,
/static/426d237ce56a3d85c4a8489aa63e0166/78797/tsc.png 1125w,
/static/426d237ce56a3d85c4a8489aa63e0166/a83dd/tsc.png 1482w"
        sizes="(max-width: 750px) 100vw, 750px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>คราวนี้ก็สร้างโฟลเดอร์ขึ้นมา</p>
<pre class="grvsc-container dark-default-dark" data-language="bash" data-index="2"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk1">mkdir node-typescript-rest-api && </span><span class="mtk11">cd</span><span class="mtk1"> node-typescript-rest-api</span></span></code></pre>
<p>Initialize package โดยใช้คำสั่ง</p>
<pre class="grvsc-container dark-default-dark" data-language="bash" data-index="3"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk1">npm init -y</span></span></code></pre>
<p>จากนั้นก็ install dependencies ดังต่อไปนี้</p>
<pre class="grvsc-container dark-default-dark" data-language="bash" data-index="4"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk1">npm install express body-parser mysql2 reflect-metadata typeorm --save</span></span></code></pre>
<p>ทีนี้ install devDependencies คือ typescript และ nodemon</p>
<pre class="grvsc-container dark-default-dark" data-language="bash" data-index="5"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk1">npm install -D typescript nodemon</span></span></code></pre>
<p>เนื่องจากว่าเราจะใช้ Typescript ในการเขียนใช่มั้ยครับ โดย Typescript จะช่วยในการตรวจสอบ type ของตัวแปรต่างๆภายใน code ที่เราเขียน รวมไปถึง type ของ Library ที่เราจะนำมาใช้ด้วย แต่ว่า Libray ส่วนมากถูกเขียนขึ้นมาจาก Javascript เป็นหลัก ดังนั้นเราจำเป็นต้องติดตั้ง package เสริมคือ <a href="http://definitelytyped.org/"><strong>Definitely Typed</strong></a> เพื่อให้ Typescript ทำงานกับ Library ที่เราใช้งานได้อย่างเต็มความสามารถ โดยติดตั้ง package ดังต่อไปนี้</p>
<pre class="grvsc-container dark-default-dark" data-language="bash" data-index="6"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk1">npm install -D @types/express @types/body-parser</span></span></code></pre>
<p>คราวนี้ต้องมาตั้งค่า configuration file ของ Typescript กันก่อนโดยสร้างไฟล์ <code>tsconfig.json</code> ขึ้นมาเพื่อเป็นการบอก typescript compiler ว่าจะต้องจัดการกับไฟล์ <code>.ts</code> ในโปรเจ็คอย่างไรบ้าง ที่จริงมันมีรายละเอียดการตั้งค่าเยอะมาก แต่ในที่นี้ผมตั้งค่าตาม Document ของ TypeORM เป็นหลักนะครับ</p>
<pre class="grvsc-container dark-default-dark" data-language="json" data-index="7"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk3">// tsconfig.json</span></span>
<span class="grvsc-line"><span class="mtk1">{</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">&quot;compilerOptions&quot;</span><span class="mtk1">: {</span></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk12">&quot;lib&quot;</span><span class="mtk1">: [</span><span class="mtk8">&quot;es5&quot;</span><span class="mtk1">, </span><span class="mtk8">&quot;es6&quot;</span><span class="mtk1">, </span><span class="mtk8">&quot;dom&quot;</span><span class="mtk1">],</span></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk12">&quot;target&quot;</span><span class="mtk1">: </span><span class="mtk8">&quot;es5&quot;</span><span class="mtk1">,</span></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk12">&quot;module&quot;</span><span class="mtk1">: </span><span class="mtk8">&quot;commonjs&quot;</span><span class="mtk1">,</span></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk12">&quot;moduleResolution&quot;</span><span class="mtk1">: </span><span class="mtk8">&quot;node&quot;</span><span class="mtk1">,</span></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk12">&quot;emitDecoratorMetadata&quot;</span><span class="mtk1">: </span><span class="mtk4">true</span><span class="mtk1">,</span></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk12">&quot;experimentalDecorators&quot;</span><span class="mtk1">: </span><span class="mtk4">true</span></span>
<span class="grvsc-line"><span class="mtk1">  }</span></span>
<span class="grvsc-line"><span class="mtk1">}</span></span></code></pre>
<p>จากนั้นก็สร้างไฟล์ <code>ormconfig.json</code> ขึ้นมาเพื่อควบคุมการทำงานของ TypeORM</p>
<pre class="grvsc-container dark-default-dark" data-language="json" data-index="8"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk3">// ormconfig.json</span></span>
<span class="grvsc-line"><span class="mtk1">{</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">&quot;type&quot;</span><span class="mtk1">: </span><span class="mtk8">&quot;mysql&quot;</span><span class="mtk1">,</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">&quot;host&quot;</span><span class="mtk1">: </span><span class="mtk8">&quot;localhost&quot;</span><span class="mtk1">,</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">&quot;port&quot;</span><span class="mtk1">: </span><span class="mtk7">3306</span><span class="mtk1">,</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">&quot;username&quot;</span><span class="mtk1">: </span><span class="mtk8">&quot;YOUR_USERNAME&quot;</span><span class="mtk1">,</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">&quot;password&quot;</span><span class="mtk1">: </span><span class="mtk8">&quot;YOUR_PASSWORD&quot;</span><span class="mtk1">,</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">&quot;database&quot;</span><span class="mtk1">: </span><span class="mtk8">&quot;YOUR_DATABASE_NAME&quot;</span><span class="mtk1">,</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">&quot;entities&quot;</span><span class="mtk1">: [</span><span class="mtk8">&quot;src/entity/*.ts&quot;</span><span class="mtk1">],</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">&quot;logging&quot;</span><span class="mtk1">: </span><span class="mtk4">true</span><span class="mtk1">,</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">&quot;synchronize&quot;</span><span class="mtk1">: </span><span class="mtk4">true</span></span>
<span class="grvsc-line"><span class="mtk1">}</span></span></code></pre>
<p>จากนั้นก็ไปสร้าง database ไว้ที่ mysql ครับ โดยใช้คำสั่งพิมพ์ลงไปที่ terminal (หรือใครจะสร้างด้วยวิธีอื่นก็ได้นะ)</p>
<pre class="grvsc-container dark-default-dark" data-language="bash" data-index="9"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk1">mysql&gt; create database rest_api_typescript;</span></span>
<span class="grvsc-line"><span class="mtk1">mysql&gt; use rest_api_typescript;</span></span></code></pre>
<p>เกือบลืม สร้าง Folder structure แบบนี้นะครับ</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 364px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 154.7872340425532%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAYAAADnTu3OAAAACXBIWXMAABYlAAAWJQFJUiTwAAAEJElEQVRIx5VWyXIaVxTVwlV2skjZGoxmZsQ8iKEn6G4amlkIEJJAA3aw4qRSyQdkkVRlkyyycn745N7HVLKEIItHD/Q7fe45d+gNd6KIk2wVzesfUL/8BKnch9m6g1q9hmxf0r0HsSq971G9GKM9/AkRpYEdn4TdE/XJ2jiK6vCdllE6H0G2bhDKNlFoDBHPnyEs16FWrqFUrlCoD5GvDaDR8qZKeO+XnwfkP/ZDGhx+DeUHE7UPXThjFtLFLlL6OTiCRKEtXsDXUbUpNjoCyqPjHJBvHEYKOI6aqH9s4O6XH+FPVwUrDp1B8syOVvHsHnrzBofhwhOgR4AHYQY04CoZOJI1BLM1xLQWNj1ZsXHTnRXn71wZvHNnlrKbhEw3WUcnMUyNaoj2uzhJN3FqnGPLk8OWd7FYnr2gthRMAPIPP3gYIYak5XiQQlo34UyUkTY7SFLIudIFMsUeApnKUqBHgI6ADGfcgiuu4e/fdFxf1hHXOiJ12JxC40boGVNbL7KbayhY0tFBYX0bbuHV7RfsZ5pI5luIkpacpyGpRlHo83R50ZQFIIkft/Hm4k/49T7y1SuUOx+Fw1L5kty3lyb0VyFPjYkXoVJ4J+kSIpTUDMJ5t03Mt6emrAx5ZgonsCdZQnv0K7J6E1kyRJlWCT+zTcxeSpenIfsVvBchV/D66i8cS20ktaZwlhfryLm6rOSWaxht4PXgH7i1HlS7T03js6hjnaQI5qqC6Voa8tuPYjqivRL8kgFvwlq4S5XEGq4V8kxD1u84YUB6qCNt29R5+jAo98qdD4IZl93/0nCHQDkPN8NVfNP5A3spKkO5RgzrBDg5Hq2j4eKNVKM+agbJCt6MviBQHMKizlLrf5r3QTZnjTwkM/iCym83lMd3vd+xK/cQOi0iJDdEMnuSlnjpzjp56AioE0B6+G3IxKvRv3AY91CtDuzeGEbzVnRtztNV4c4Z8toiYDOehhSI4YBqNkEdml1mhqyfK24KZntBdUX74ocI8C2NgF4yBSOcRKzYx9ngs9DPaN2KTsNzhJvrqhKcaEjs9oMKvKcqbVTFZnaWTWCG3L15YDFTnnics0tnyhwwpEDRJGRkWcwRrgx2lo/scosqhvVktk4Kn8fCc6AbsxOuZU9OgzuriYHFLHm8ssPHMerm1ImYMYPxf6zvPmXFMwwXgJFiHhFTh1Ydkn5jWDSru3c/w2qPoNhXsLuT3sgDn+c4g3/t/BzQQYA+SYOXGLqpjv0ZW+jHZcfnzJSvuWtzg1hW248YholhmBgq9kCwsNr3Qjs+10m/EtX1rGsvm35zU/bIZV9cpqWITawTH5P01cBaBqaMn9PtWcADcjlvSMiR09ylWTfz7I4+ksaCIX8ssaauFRUjSm8G6piGsO2daDQb9FwdrBtfr2ph/wF5e9PtTt+PRAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="folder structure"
        title="folder structure"
        src="/static/dc538accc31a54ff49c5fa7545f1761d/e45a9/folder_structure.png"
        srcset="/static/dc538accc31a54ff49c5fa7545f1761d/4dcb9/folder_structure.png 188w,
/static/dc538accc31a54ff49c5fa7545f1761d/e45a9/folder_structure.png 364w"
        sizes="(max-width: 364px) 100vw, 364px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>เท่านี้ก็ติดตั้งทุกอย่างเสร็จหมดละครับบบ มาเริ่มเขียน code กันเลย</p>
<h2>Create Express Server</h2>
<p>สร้าง Server เพื่อเริ่มต้นการทำงาน application ได้ดังนี้</p>
<pre class="grvsc-container dark-default-dark" data-language="typescript" data-index="10"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk3">// index.ts</span></span>
<span class="grvsc-line"><span class="mtk15">import</span><span class="mtk1"> </span><span class="mtk4">*</span><span class="mtk1"> </span><span class="mtk15">as</span><span class="mtk1"> </span><span class="mtk12">express</span><span class="mtk1"> </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;express&#39;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk15">import</span><span class="mtk1"> { </span><span class="mtk12">Application</span><span class="mtk1"> } </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;express&#39;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk15">import</span><span class="mtk1"> </span><span class="mtk4">*</span><span class="mtk1"> </span><span class="mtk15">as</span><span class="mtk1"> </span><span class="mtk12">bodyParser</span><span class="mtk1"> </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;body-parser&#39;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk15">import</span><span class="mtk1"> { </span><span class="mtk12">createConnection</span><span class="mtk1"> } </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;typeorm&#39;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk15">import</span><span class="mtk1"> </span><span class="mtk12">playerRouter</span><span class="mtk1"> </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;./routes/player&#39;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk11">createConnection</span><span class="mtk1">().</span><span class="mtk11">then</span><span class="mtk1">(</span><span class="mtk12">connection</span><span class="mtk1"> </span><span class="mtk4">=&gt;</span><span class="mtk1"> {</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">app</span><span class="mtk1">: </span><span class="mtk10">Application</span><span class="mtk1"> = </span><span class="mtk11">express</span><span class="mtk1">();</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">app</span><span class="mtk1">.</span><span class="mtk11">use</span><span class="mtk1">(</span><span class="mtk12">bodyParser</span><span class="mtk1">.</span><span class="mtk11">json</span><span class="mtk1">());</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">app</span><span class="mtk1">.</span><span class="mtk11">use</span><span class="mtk1">(</span><span class="mtk8">&#39;/players&#39;</span><span class="mtk1">, </span><span class="mtk12">playerRouter</span><span class="mtk1">);</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">app</span><span class="mtk1">.</span><span class="mtk11">listen</span><span class="mtk1">(</span><span class="mtk7">8080</span><span class="mtk1">, () </span><span class="mtk4">=&gt;</span><span class="mtk1"> {</span></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk10">console</span><span class="mtk1">.</span><span class="mtk11">log</span><span class="mtk1">(</span><span class="mtk8">`🔥🔥🔥 Server is listening on port 8080 🔥🔥🔥`</span><span class="mtk1">);</span></span>
<span class="grvsc-line"><span class="mtk1">  });</span></span>
<span class="grvsc-line"><span class="mtk1">});</span></span></code></pre>
<p>และสร้าง route สำหรับ player แบบนี้</p>
<pre class="grvsc-container dark-default-dark" data-language="typescript" data-index="11"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk3">// routes/player.ts</span></span>
<span class="grvsc-line"><span class="mtk15">import</span><span class="mtk1"> </span><span class="mtk4">*</span><span class="mtk1"> </span><span class="mtk15">as</span><span class="mtk1"> </span><span class="mtk12">express</span><span class="mtk1"> </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;express&#39;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk15">import</span><span class="mtk1"> { </span><span class="mtk12">Router</span><span class="mtk1">, </span><span class="mtk12">Request</span><span class="mtk1">, </span><span class="mtk12">Response</span><span class="mtk1"> } </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;express&#39;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">router</span><span class="mtk1">: </span><span class="mtk10">Router</span><span class="mtk1"> = </span><span class="mtk12">express</span><span class="mtk1">.</span><span class="mtk11">Router</span><span class="mtk1">();</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk12">router</span><span class="mtk1">.</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;/&#39;</span><span class="mtk1">, (</span><span class="mtk12">req</span><span class="mtk1">: </span><span class="mtk10">Request</span><span class="mtk1">, </span><span class="mtk12">res</span><span class="mtk1">: </span><span class="mtk10">Response</span><span class="mtk1">) </span><span class="mtk4">=&gt;</span><span class="mtk1"> {</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">res</span><span class="mtk1">.</span><span class="mtk11">send</span><span class="mtk1">(</span><span class="mtk8">`</span></span>
<span class="grvsc-line"><span class="mtk8">    &lt;h1&gt;Get all players&lt;/h1&gt;</span></span>
<span class="grvsc-line"><span class="mtk8">  `</span><span class="mtk1">);</span></span>
<span class="grvsc-line"><span class="mtk1">});</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk15">export</span><span class="mtk1"> </span><span class="mtk15">default</span><span class="mtk1"> </span><span class="mtk12">router</span><span class="mtk1">;</span></span></code></pre>
<p>ลอง run app ดูครับ ด้วยคำสั่ง</p>
<pre class="grvsc-container dark-default-dark" data-language="bash" data-index="12"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk1">npm start</span></span></code></pre>
<p>ถ้าได้แบบในรูปก็ถือว่าสำเร็จครับ</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 750px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 32.4468085106383%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABI0lEQVQY042R3VOCQBTFeesDy0YNEkQmXEA+VKTiY7FQokadpnrr//9LThfWrMcefnPuzp09u/ceSa9yDO0CQ7/AwM4wcFLSFF1W4cqtcWFydMy8VVH/YZwfe+dGilM9gXTjvsKM9hjNdzAWe+izLekOqleRcQl1SuqsoZA2XLubI33qtz2qmwdawyBcwZlyjFkO1cqg3JJOOPpmhs4owYn28C8as7NRCmmecPh3HF5cYBY/gi1yaH5Cv0khGwdDXVz4uShqwe9ZGEva8hls+Q4n/oS9/KBxX6CGJZRgjcvJExnTeFaFHhN1o11rRaOWLX1WomeVtIJ1ixTfbxDxL1jRG7SgbvehejWsWQU/FAvvGBzyIQB5nFEAmQjkgGzkx4C+AQSlrZUqca+/AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="start app"
        title="start app"
        src="/static/80b1d17ad078fa62eaf7530e7e189649/1d69c/start_app.png"
        srcset="/static/80b1d17ad078fa62eaf7530e7e189649/4dcb9/start_app.png 188w,
/static/80b1d17ad078fa62eaf7530e7e189649/5ff7e/start_app.png 375w,
/static/80b1d17ad078fa62eaf7530e7e189649/1d69c/start_app.png 750w,
/static/80b1d17ad078fa62eaf7530e7e189649/78797/start_app.png 1125w,
/static/80b1d17ad078fa62eaf7530e7e189649/aa440/start_app.png 1500w,
/static/80b1d17ad078fa62eaf7530e7e189649/966ce/start_app.png 2050w"
        sizes="(max-width: 750px) 100vw, 750px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<h2>Create Model Entity</h2>
<p>ขั้นตอนต่อไปก็มาทำการสร้าง Player entity เก็บข้อมูลนักฟุตบอล ซึ่งก็คือ table ใน database ของเรานั่นเอง ในที่นี้ผมจะเก็บข้อมูลดังนี้</p>
<ul>
<li><code>id</code> เป็น number</li>
<li><code>name</code> เป็น string</li>
<li><code>age</code> เป็น number</li>
<li><code>position</code> เป็น string</li>
</ul>
<p>เมื่อนำมาเขียนตาม Document ของ TypeORM ก็จะได้แบบนี้ครับ</p>
<pre class="grvsc-container dark-default-dark" data-language="typescript" data-index="13"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk3">// entity/Player.ts</span></span>
<span class="grvsc-line"><span class="mtk15">import</span><span class="mtk1"> { </span><span class="mtk12">Entity</span><span class="mtk1">, </span><span class="mtk12">Column</span><span class="mtk1">, </span><span class="mtk12">PrimaryGeneratedColumn</span><span class="mtk1"> } </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;typeorm&#39;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">@</span><span class="mtk11">Entity</span><span class="mtk1">()</span></span>
<span class="grvsc-line"><span class="mtk15">export</span><span class="mtk1"> </span><span class="mtk4">class</span><span class="mtk1"> </span><span class="mtk10">Player</span><span class="mtk1"> {</span></span>
<span class="grvsc-line"><span class="mtk1">  @</span><span class="mtk11">PrimaryGeneratedColumn</span><span class="mtk1">()</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">id</span><span class="mtk1">: </span><span class="mtk10">number</span><span class="mtk1">;</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">  @</span><span class="mtk11">Column</span><span class="mtk1">()</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">name</span><span class="mtk1">: </span><span class="mtk10">string</span><span class="mtk1">;</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">  @</span><span class="mtk11">Column</span><span class="mtk1">()</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">age</span><span class="mtk1">: </span><span class="mtk10">number</span><span class="mtk1">;</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">  @</span><span class="mtk11">Column</span><span class="mtk1">()</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">position</span><span class="mtk1">: </span><span class="mtk10">string</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk1">}</span></span></code></pre>
<p>Entity เปรียบเสมือนตารางเก็บข้อมูล โดยตามที่ผมเขียนไว้ข้างบนก็ตรงไปตรงมาครับว่า ข้อมูลของแต่ละ <code>Column</code> คือ id, name, age และ position ของนักฟุตบอล โดยที่มี <code>id</code> เป็น <code>PrimaryGeneratedColumn</code> นั่นเอง</p>
<h2>Create Player</h2>
<p>ต่อไปเราก็สร้างข้อมูลโดยเขียนคำสั่งใน controllers แบบนี้</p>
<pre class="grvsc-container dark-default-dark" data-language="typescript" data-index="14"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk3">// controllers/player.ts</span></span>
<span class="grvsc-line"><span class="mtk15">import</span><span class="mtk1"> { </span><span class="mtk12">getRepository</span><span class="mtk1"> } </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;typeorm&#39;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk15">import</span><span class="mtk1"> { </span><span class="mtk12">Request</span><span class="mtk1">, </span><span class="mtk12">Response</span><span class="mtk1"> } </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;express&#39;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk15">import</span><span class="mtk1"> { </span><span class="mtk12">Player</span><span class="mtk1"> } </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;../entity/Player&#39;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk15">export</span><span class="mtk1"> </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk11">createPlayer</span><span class="mtk1"> = </span><span class="mtk4">async</span><span class="mtk1"> (</span><span class="mtk12">req</span><span class="mtk1">: </span><span class="mtk10">Request</span><span class="mtk1">, </span><span class="mtk12">res</span><span class="mtk1">: </span><span class="mtk10">Response</span><span class="mtk1">) </span><span class="mtk4">=&gt;</span><span class="mtk1"> {</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk4">let</span><span class="mtk1"> </span><span class="mtk12">player</span><span class="mtk1"> = </span><span class="mtk4">new</span><span class="mtk1"> </span><span class="mtk10">Player</span><span class="mtk1">();</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">player</span><span class="mtk1"> = { ...</span><span class="mtk12">req</span><span class="mtk1">.</span><span class="mtk12">body</span><span class="mtk1"> };</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">playerRepository</span><span class="mtk1"> = </span><span class="mtk11">getRepository</span><span class="mtk1">(</span><span class="mtk12">Player</span><span class="mtk1">);</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk15">await</span><span class="mtk1"> </span><span class="mtk12">playerRepository</span><span class="mtk1">.</span><span class="mtk11">save</span><span class="mtk1">(</span><span class="mtk12">player</span><span class="mtk1">);</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">res</span><span class="mtk1">.</span><span class="mtk11">send</span><span class="mtk1">(</span><span class="mtk12">player</span><span class="mtk1">);</span></span>
<span class="grvsc-line"><span class="mtk1">};</span></span></code></pre>
<p>จากนั้นกลับไปแก้ player route ก่อนนะครับ</p>
<pre class="grvsc-container dark-default-dark" data-language="typescript" data-index="15"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk3">// routes/player.ts</span></span>
<span class="grvsc-line"><span class="mtk15">import</span><span class="mtk1"> </span><span class="mtk4">*</span><span class="mtk1"> </span><span class="mtk15">as</span><span class="mtk1"> </span><span class="mtk12">express</span><span class="mtk1"> </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;express&#39;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk15">import</span><span class="mtk1"> { </span><span class="mtk12">Router</span><span class="mtk1"> } </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;express&#39;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk15">import</span><span class="mtk1"> { </span><span class="mtk12">createPlayer</span><span class="mtk1"> } </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;../controllers/player&#39;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">router</span><span class="mtk1">: </span><span class="mtk10">Router</span><span class="mtk1"> = </span><span class="mtk12">express</span><span class="mtk1">.</span><span class="mtk11">Router</span><span class="mtk1">();</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk12">router</span><span class="mtk1">.</span><span class="mtk11">post</span><span class="mtk1">(</span><span class="mtk8">&#39;/&#39;</span><span class="mtk1">, </span><span class="mtk12">createPlayer</span><span class="mtk1">);</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk15">export</span><span class="mtk1"> </span><span class="mtk15">default</span><span class="mtk1"> </span><span class="mtk12">router</span><span class="mtk1">;</span></span></code></pre>
<p>จากนั้นก็ใช้ Postman ทำการ <code>POST request</code> ไปที่ <code>http://localhost:8080</code> เพื่อเพิ่มข้อมูลของนักฟุตบอลลงไป แล้วลองยิงดู</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 750px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 78.72340425531915%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAACRUlEQVQ4y4VT15LbMAzUb+TcZTVSpJqpbl/cc5nJ///OBoDlm8zkysMOQIhYgMDKOxwOuN1uGMcR+/0el8sF9/td8Pb2JjidTtP3UexX8Jjker1iGAYhPJ/PcuYiT+LX4wn9lMB3nnie/7Wecw51XaMoCnRdh7Ztkec5aorvGgdlFH7ve9x/tqjKHC3d6fseTdNIDufy/YEIy7KCxwcmKYpSLHea54X4XJGLHA97DG2D3lVSqK4biZdlKZ05Im2sRmENPA5yl8akMDYlMkvkRmyWWWidQmmDRGmYVCNNU4Exhr5pWGsfMZVAKwWvpcpaGbgxxvFPirFv8XqgykMOt7Ow9OQ802LjOP4cSSKQDq2hTmyIog6RZhFVjrGrNBE+0NYpykIhCIJv4RU0Q35uGEYItpFY8YNQsGVsH34URd/Cy2gBPAtuW9EckoStmvxErNZqiv0PviP3Juv9Oh8xdC06kgJLgDeb7fJ3ny0PnpFlGQyBlcGSEYWQfKp2h6x5SMi7dDVO9Ac4V4tUGgJLgjc/jgOeOh2E3OG1dbJVfhWDt53SyLR5bN9LbSaXObGUqhlqqsodNU0rnVRV9dAdi5/EHUUhzfljeJv1Guv1igbvIyD5RNoi9ldIAh+Rv8FiscCPlxfBbDbDy3wusc/g+b6PzYYS5zNY1yNvBhI4EVMBTZ1EwVZ8RkAFlssl4RtC1s+aOrWuI8IeQZxMhAFUGMDEofgxkS8Wy4n0Y7wT8mAluJgTqBr5c0pmgjmdxafYarX6En8B+LLoRJIRhHYAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="create player"
        title="create player"
        src="/static/ba4abe5632ce3f3e9081db2307629b04/1d69c/create.png"
        srcset="/static/ba4abe5632ce3f3e9081db2307629b04/4dcb9/create.png 188w,
/static/ba4abe5632ce3f3e9081db2307629b04/5ff7e/create.png 375w,
/static/ba4abe5632ce3f3e9081db2307629b04/1d69c/create.png 750w,
/static/ba4abe5632ce3f3e9081db2307629b04/78797/create.png 1125w,
/static/ba4abe5632ce3f3e9081db2307629b04/7960f/create.png 1274w"
        sizes="(max-width: 750px) 100vw, 750px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>ลองเพิ่มอีกสัก 2-3 คนนะครับ แล้วไปเช็คที่ database ดู</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 750px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 35.638297872340424%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABWklEQVQozz1R2VLCQBC0SktUbi0BE44cHJErgBKOQCjkElBALfVBn/z/f2i3N8DD1OzO9vb09JyU++/QGiuka3NozRUS1hOM1ho5ewld3FkzH16Qf3xF1n6WNVOcY8YQwWwPoVz/GBeqg5OsvUDqfiLBzJfpDsLiMaz1EdFdRDQXUX0gG6jVOTJ1n1Stzo6ExN8URj4hlaXKUxSdrQSmawvETU+CosZAksZEJo4kVFtob6CLKXjWm2sYInOygCIIk+JwWxqj1NmJ2MLq7sAalZ4lWzgVEVDa8oMiCDl6c/QN2/uSOI5OdXFz6CtUKlMolRnqw0+0Jz8ynNkvqu4HLNGk6GzkO8nordV9g7f+k6oOzc5FkFgSJqyx7EB/6GOusTxmknEptIBTUJG6V3knbLrKdBGSPvYQOyg0WisJoEck4sZJQj+v8x6C4pO/GPe4JPrLfLhH9m8k/Ae+F9SXv4DcRAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="mysql"
        title="mysql"
        src="/static/788541a9177fab39bf01876560387425/1d69c/mysql.png"
        srcset="/static/788541a9177fab39bf01876560387425/4dcb9/mysql.png 188w,
/static/788541a9177fab39bf01876560387425/5ff7e/mysql.png 375w,
/static/788541a9177fab39bf01876560387425/1d69c/mysql.png 750w,
/static/788541a9177fab39bf01876560387425/78797/mysql.png 1125w,
/static/788541a9177fab39bf01876560387425/cd138/mysql.png 1220w"
        sizes="(max-width: 750px) 100vw, 750px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>เรียบร้อยยยย สังเกตว่า <code>id</code> ถูกเพิ่มให้อัตโนมัติเลยครับ</p>
<h2>Get players</h2>
<p>อยากเรียกดู players ทั้งหมดที่สร้างไว้ ก็ทำแบบนี้</p>
<pre class="grvsc-container dark-default-dark" data-language="typescript" data-index="16"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk3">// controllers/player.ts</span></span>
<span class="grvsc-line"><span class="mtk15">export</span><span class="mtk1"> </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk11">getAllPlayers</span><span class="mtk1"> = </span><span class="mtk4">async</span><span class="mtk1"> (</span><span class="mtk12">req</span><span class="mtk1">: </span><span class="mtk10">Request</span><span class="mtk1">, </span><span class="mtk12">res</span><span class="mtk1">: </span><span class="mtk10">Response</span><span class="mtk1">) </span><span class="mtk4">=&gt;</span><span class="mtk1"> {</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">playerRepository</span><span class="mtk1"> = </span><span class="mtk11">getRepository</span><span class="mtk1">(</span><span class="mtk12">Player</span><span class="mtk1">);</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">players</span><span class="mtk1"> = </span><span class="mtk15">await</span><span class="mtk1"> </span><span class="mtk12">playerRepository</span><span class="mtk1">.</span><span class="mtk11">find</span><span class="mtk1">();</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">res</span><span class="mtk1">.</span><span class="mtk11">send</span><span class="mtk1">(</span><span class="mtk12">players</span><span class="mtk1">);</span></span>
<span class="grvsc-line"><span class="mtk1">};</span></span></code></pre>
<p>แล้วไปเพิ่ม ที่ <code>routes/player.ts</code> แบบนี้</p>
<pre class="grvsc-container dark-default-dark" data-language="typescript" data-index="17"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk3">// routes/player.ts</span></span>
<span class="grvsc-line"><span class="mtk15">import</span><span class="mtk1"> { </span><span class="mtk12">createPlayer</span><span class="mtk1">, </span><span class="mtk12">getAllPlayers</span><span class="mtk1"> } </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;../controllers/player&#39;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk12">router</span><span class="mtk1">.</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;/&#39;</span><span class="mtk1">, </span><span class="mtk12">getAllPlayers</span><span class="mtk1">);</span></span></code></pre>
<p>จากนั้นก็ลอง Test ที่ Postman เหมือนเดิมด้วย GET method</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 750px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 154.7872340425532%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAYAAADnTu3OAAAACXBIWXMAABYlAAAWJQFJUiTwAAADtUlEQVRIx41V2XLaShTkM2wQILQjtAuEJMBAysTlqrjq2nEq+f8f6ZweMYTYQO5Dc2a0tM7S0/TKLMLjrsJ/h73C69cveH8+4O3pEU+rJQ7zGPPURV0GyPMSRVGgLEssFnMUErN4hnkcIEoSZGmKHi8uVy2adoVmRayxftgKHlC3LdqmxnpVY9UuUdcNlsulQl3XEmtU1QJ1NceiqmRdobfb7fD6+ooHIdjvd9jL/uXlBW9vbwrfv7/j569feP/xA8/Pz9hut+A7f7BX2B/3vbrMUZWFKuUjWBpjnudqrfcqqnX56Z1elqV4+fYNTdNgs9mglTK5PhwOqoT1eq3WJOH66ekrWmnLl6bCY7OA7XoIAh++36HHnyiKEMcxptOp3AxUDMNQRb3mc4x8jnEm16NpANu24TjOCT3TNKExHo9VHAwGMAQDw5C1ofZqbXRrQ6Jx3A+Hw7/Qm0wmsCzrRMj9NC0QJik818GE18wx7El3fzQa3YTKUBN2F4dI67VCFLgoZgECx0boOUJooj/oMmNkRnxHxxMh+3AilJtZu0UmhMl8AVeaPhOyyHdVjANPrRmZ+TnZXxnqctnYiS0N9qewvUDdY4ZT14YvkWvfsdTeHF8hZIaa0PU8jMbsl5SiShvgXnDXPxvM2UAuluy67qlkEkfzGmnVIPS7cpkVy7yU0cUpU2Mn2Qiy5gFJtUKWxaI1H57NEh1Y8uw/p0xCCpVRS4hk6XKFZLGEJx/LQ1+mPRVXoaADDI+VXMIpQ27YS1/KpHhHI5bXfdU8atH8PzokoSeDOBe244dwhdgUMbP5hvTGMI740LObPdRfSaTcvNlI/zwUUi5FnYjuiNBzP032aob6wXy9l8FskImtBZIpdUdS37b+HL9bhDpDLXJvliBIcvhRCleETukkki3lc0k2nwhpWfyyIpNs+/d3GPTvBX01IJ7b+/7gdH6NM5xr8WLJJA7zBeJiDl/6RZdxLDlBUi7X1nFPWPLOxQw/DiWtN8oc4pmPVIZCUcfiPDNlCi5KcaAiDJRBdITD24Q8KRR2Kn8BzD4UI5hJtszI0DK6VbIWNnvIIYwnFiyxrYntiqDlrEt5HIgW9vhfQ9EZavsioan607kNh3F3HIrGVbe5VHK8aJHXK+U2sfRNC5uOk4pZpCKhqVy7KZvJmZN0btMiSSJF2hmqowyWawrckfbcJDy3L/phLJiJdGi4ke8gk2kHMhxdLs/1zZL1/woHw7/Qj4f+2vm9mKEeyPkDt47YNWMgfgOkGX04loLQoQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Get player"
        title="Get player"
        src="/static/ae17ae5dfa8287fbda810fd1988e7415/1d69c/read.png"
        srcset="/static/ae17ae5dfa8287fbda810fd1988e7415/4dcb9/read.png 188w,
/static/ae17ae5dfa8287fbda810fd1988e7415/5ff7e/read.png 375w,
/static/ae17ae5dfa8287fbda810fd1988e7415/1d69c/read.png 750w,
/static/ae17ae5dfa8287fbda810fd1988e7415/709cb/read.png 1034w"
        sizes="(max-width: 750px) 100vw, 750px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<h2>Update player</h2>
<p>ถ้าอยากแก้่ไขข้อมูลของนักเตะตาม <code>id</code> ก็ทำได้โดยดึงข้อมูลตาม <code>id</code> ที่ต้องการแก้ไขออกมาก่อน จากนั้นค่อยทำการ update อีกที</p>
<pre class="grvsc-container dark-default-dark" data-language="typescript" data-index="18"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk3">// controllers/player.ts</span></span>
<span class="grvsc-line"><span class="mtk15">export</span><span class="mtk1"> </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk11">updatePlayerById</span><span class="mtk1"> = </span><span class="mtk4">async</span><span class="mtk1"> (</span><span class="mtk12">req</span><span class="mtk1">: </span><span class="mtk10">Request</span><span class="mtk1">, </span><span class="mtk12">res</span><span class="mtk1">: </span><span class="mtk10">Response</span><span class="mtk1">) </span><span class="mtk4">=&gt;</span><span class="mtk1"> {</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> { </span><span class="mtk12">name</span><span class="mtk1">, </span><span class="mtk12">position</span><span class="mtk1"> } = </span><span class="mtk12">req</span><span class="mtk1">.</span><span class="mtk12">body</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">playerRepository</span><span class="mtk1"> = </span><span class="mtk11">getRepository</span><span class="mtk1">(</span><span class="mtk12">Player</span><span class="mtk1">);</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk15">await</span><span class="mtk1"> </span><span class="mtk12">playerRepository</span><span class="mtk1">.</span><span class="mtk11">update</span><span class="mtk1">(</span><span class="mtk10">Number</span><span class="mtk1">(</span><span class="mtk12">req</span><span class="mtk1">.</span><span class="mtk12">params</span><span class="mtk1">.</span><span class="mtk12">id</span><span class="mtk1">), {</span></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk12">name</span><span class="mtk1">,</span></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk12">position</span></span>
<span class="grvsc-line"><span class="mtk1">  });</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">updatedPlayer</span><span class="mtk1"> = </span><span class="mtk15">await</span><span class="mtk1"> </span><span class="mtk12">playerRepository</span><span class="mtk1">.</span><span class="mtk11">find</span><span class="mtk1">({</span></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk12">id:</span><span class="mtk1"> </span><span class="mtk10">Number</span><span class="mtk1">(</span><span class="mtk12">req</span><span class="mtk1">.</span><span class="mtk12">params</span><span class="mtk1">.</span><span class="mtk12">id</span><span class="mtk1">)</span></span>
<span class="grvsc-line"><span class="mtk1">  });</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">res</span><span class="mtk1">.</span><span class="mtk11">send</span><span class="mtk1">(</span><span class="mtk12">updatedPlayer</span><span class="mtk1">);</span></span>
<span class="grvsc-line"><span class="mtk1">};</span></span></code></pre>
<p>แล้วก็แก้ไขที่ <code>routes/player.ts</code></p>
<pre class="grvsc-container dark-default-dark" data-language="typescript" data-index="19"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk3">// routes/player.ts</span></span>
<span class="grvsc-line"><span class="mtk15">import</span><span class="mtk1"> {</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">createPlayer</span><span class="mtk1">,</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">getAllPlayers</span><span class="mtk1">,</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">updatePlayerById</span></span>
<span class="grvsc-line"><span class="mtk1">} </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;../controllers/player&#39;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk12">router</span><span class="mtk1">.</span><span class="mtk11">put</span><span class="mtk1">(</span><span class="mtk8">&#39;/:id&#39;</span><span class="mtk1">, </span><span class="mtk12">updatePlayerById</span><span class="mtk1">);</span></span></code></pre>
<p>ทดสอบที่ Postman และลองเช็คที่ database ดู</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 750px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 114.36170212765957%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAABYlAAAWJQFJUiTwAAADTklEQVQ4y4VU2XLiSBDUbwxgCwQ60NE60clhcTnWXojdh/n/T8mpbCwvw6xnHjK6urqVXUeWjDRO0K83uB62uOx3+Of1iH/3a3RpADcNkecZsixDURRYFTnKOECVOSjzSPy5Ps/lrEkjxCqCUTUttv0R/eGAl/0e3JMgTWKoNEaapp/ICPFn8nEmZ8ndWS7+JI5hrNcdDvseRyE8n09YrVaIoghKDmOloO4Qiy9J0g8kPyH+WIVwjdPphKZp0HUddrsd3t7e8P7+rnG9XnG5XLTNe5vNBtvt9ksYJNlLqlwHHCTa4/GoQZLX8xknQSdktZSEd9q2/V8YZVmCUbIOjJIR8IDpNXWNpmvhZxHKNMH19YBuLY2QZgyR8luWiajlvsF6ccP82YyqrsBHWDOufKSQ811d4m3XoS8zNEWmO8z7JOG3eZ7/R8iPGJFSiZCX+tD3Ay2HsqxkXyDNCmRFiVDFqPJUN4FNq6pKPz6QG0Vxe2m59JBVrnzgocgU6orS8DWKPND7ahUiCJZY2A5c19WwbVuvjuNoW2pImSgsfRfn7x7W+0Tq0kr9FPqXDLut6CwJRWOBhu8v4XnelzDiWOkaOK6NZTiHH83hLmWVB4rcl7Q8LBYLzGYWLGuO+fz3MFg71lGHv5CwFxK+zVQcuWALmaPTuaV4s78C7+gIgyCA7dg/feS53m1/d/kxvaGO97ZRt52WBYdf/wSko3r80lvnKB2eqYcxfMQgO+Par7GrCml/reVCgrqpESSRJqIU6BtKMxBEd2T0k5D3jEY09fdfr3qzEdVTVxyt/uVFR8rZ5kTwdY5hL2PaiPgv20ZK5cN9KIHhiKFErGmW6lrywPf9TzsMQ22ztoNNfyTyYffvO8y9YZomnp+fRayUxkzbk8kTxuMxxpMJvo1GGI3Gej/StoD2eIKnp6dfYEynU81O4ikxnUGtWtFkBGdhYWHNNOy5hbk8aFs3TKemJmAA99CElmV9RmeaUxS7EyKZ3TSUlEXwnj3X61JW5TlQS9GokP6WkBGa4mCEadcjrlqE+QquRJkFHhKZHGbAVFmKgezLlCleFtWUPaM0hZgrU5vP5NEZ/bcozIeofomQ6SqZmJk1pH37SBN8NO3mN/+IH53Vv+ans0NrAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="update player"
        title="update player"
        src="/static/6c1572c6e9682bf86c1ab817d4517eed/1d69c/update.png"
        srcset="/static/6c1572c6e9682bf86c1ab817d4517eed/4dcb9/update.png 188w,
/static/6c1572c6e9682bf86c1ab817d4517eed/5ff7e/update.png 375w,
/static/6c1572c6e9682bf86c1ab817d4517eed/1d69c/update.png 750w,
/static/6c1572c6e9682bf86c1ab817d4517eed/84ee5/update.png 1076w"
        sizes="(max-width: 750px) 100vw, 750px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 750px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 31.914893617021278%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABHklEQVQY02VQyVLCUBDMwQ3Q0kuEJKwRoZLIGgirJUvYRZNI8f9/0s6MQKEeujozr7tfvyiN0R52L8Rze4vK8Atmcw2rF8AZRHD6EaqvO5nrb3uZ7X5IHMLqBqTfkTfAk7tBgXyaPYGSr6+QriyQqS6Rb6wRz3SRyPZwm+sL7vKMgWgKjY2w6b6LNmVNcWN4uNbbB3hQdMeHWhrDeJmReI7H8liER07ZUzyYQ6g08znrzOaGCixkxwU4NJbuCJRsbUlVfalc8j5QbG2F2VTyPlHuBGJk6M4MudqKnhmJJkkX/gvUqIHGLYsTauTLNz+fzfeFAS6S7knMRsZlysWV1joF/Qo06Yca9hzqyEPCpKXxcxA/CM6DYme7v/sjfwPV8LPaYGcdSgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="update sql"
        title="update sql"
        src="/static/7d6495b45bf75785dba58124123a659f/1d69c/update_sql.png"
        srcset="/static/7d6495b45bf75785dba58124123a659f/4dcb9/update_sql.png 188w,
/static/7d6495b45bf75785dba58124123a659f/5ff7e/update_sql.png 375w,
/static/7d6495b45bf75785dba58124123a659f/1d69c/update_sql.png 750w,
/static/7d6495b45bf75785dba58124123a659f/78797/update_sql.png 1125w,
/static/7d6495b45bf75785dba58124123a659f/0940f/update_sql.png 1154w"
        sizes="(max-width: 750px) 100vw, 750px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>ก็เป็นไปตามที่แก้ไขครับ</p>
<h2>Delete player</h2>
<p>สุดท้าย ถ้าอยาก delete ก็ทำคล้ายๆ update เลยครับ หาจาก <code>id</code> ก่อนจากนั้นก็ค่อยทำการลบออกไป</p>
<pre class="grvsc-container dark-default-dark" data-language="typescript" data-index="20"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk3">// controllers/player.ts</span></span>
<span class="grvsc-line"><span class="mtk15">export</span><span class="mtk1"> </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk11">deletePlayerById</span><span class="mtk1"> = </span><span class="mtk4">async</span><span class="mtk1"> (</span><span class="mtk12">req</span><span class="mtk1">: </span><span class="mtk10">Request</span><span class="mtk1">, </span><span class="mtk12">res</span><span class="mtk1">: </span><span class="mtk10">Response</span><span class="mtk1">) </span><span class="mtk4">=&gt;</span><span class="mtk1"> {</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">playerRepository</span><span class="mtk1"> = </span><span class="mtk11">getRepository</span><span class="mtk1">(</span><span class="mtk12">Player</span><span class="mtk1">);</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">player</span><span class="mtk1"> = </span><span class="mtk15">await</span><span class="mtk1"> </span><span class="mtk12">playerRepository</span><span class="mtk1">.</span><span class="mtk11">find</span><span class="mtk1">({</span></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk12">id:</span><span class="mtk1"> </span><span class="mtk10">Number</span><span class="mtk1">(</span><span class="mtk12">req</span><span class="mtk1">.</span><span class="mtk12">params</span><span class="mtk1">.</span><span class="mtk12">id</span><span class="mtk1">)</span></span>
<span class="grvsc-line"><span class="mtk1">  });</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk15">await</span><span class="mtk1"> </span><span class="mtk12">playerRepository</span><span class="mtk1">.</span><span class="mtk11">remove</span><span class="mtk1">(</span><span class="mtk12">player</span><span class="mtk1">);</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">res</span><span class="mtk1">.</span><span class="mtk11">send</span><span class="mtk1">(</span><span class="mtk8">`Player id </span><span class="mtk4">${</span><span class="mtk12">req</span><span class="mtk1">.</span><span class="mtk12">params</span><span class="mtk1">.</span><span class="mtk12">id</span><span class="mtk4">}</span><span class="mtk8"> has been deleted.`</span><span class="mtk1">);</span></span>
<span class="grvsc-line"><span class="mtk1">};</span></span></code></pre>
<p>แล้วก็ที่ <code>routes/player.ts</code> จะได้</p>
<pre class="grvsc-container dark-default-dark" data-language="typescript" data-index="21"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk3">// routes/player.ts</span></span>
<span class="grvsc-line"><span class="mtk15">import</span><span class="mtk1"> {</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">createPlayer</span><span class="mtk1">,</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">getAllPlayers</span><span class="mtk1">,</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">updatePlayerById</span><span class="mtk1">,</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">deletePlayerById</span></span>
<span class="grvsc-line"><span class="mtk1">} </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;../controllers/player&#39;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk12">router</span><span class="mtk1">.</span><span class="mtk11">delete</span><span class="mtk1">(</span><span class="mtk8">&#39;/:id&#39;</span><span class="mtk1">, </span><span class="mtk12">deletePlayerById</span><span class="mtk1">);</span></span></code></pre>
<p>เหมือนเดิมครับบบบ ใช้ Postman</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 750px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 76.06382978723406%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAACS0lEQVQ4y21TWXbiMBD0RSBgwo5lWV4xqwETHIbc/zY1XR2U4c3LR71utXoplaSgWs3xqFI8Lg3upwMedYKVSbC0BbLUwQnKeImFXcI4izTNkLkEuVmidGNUeYTESSyJUZgFgnq9xvl0wrlt0ZwvqMoCJraIkxROCpMkQWpjWcewidV1ItZJzCURUhfL2j1jBsFmu8XxeETTNLheryjLElEUwZhIrFGf1phvWDa39okEsQx/jQWbzQaPx0MbroXt4XBA13X4/PxUcO/r6wv3+x232w37/R673U6tB9caEwTrusbHrROWDWrxOeAkEpBtKzJcLhfcPm7ajEO5T3A44WsI+sFxW6NrzyhEfM+Q06gVj08GtnSiq8F2s0VRFArmEdznmrlsGrRyw392FQ6FCOuc6GEV3zoa9Vei52q1ghW9aNV/5sVx/NT5Oz+YL5dweY5MpnBzMplgOp1iNpupVf+55h4L2dDn/Y9gOp3I23LI80yTFosF5vP5r2DBVl4FpaH/W07wPh5jJg4b+SlsPBdGnpVnTCzlRAR9n+OhDLvLCbtNrZOrqtLpexHb5BaZsOYFcS9NU9WIshDmiVcteTlBV+e47mtkWaYBtfJb8jLXb+eHsMjnOJfq98vkd/BknjW1DSK5ufb6IYWlFuZyQWxyFJbO/XtKZEe2rbzLSt5bs85xrjK8jyd6aT+XMgpDDIdDneC/nT8WGbGpb8yct7c3hFoTYiAIwyGGYagxIhgMBuj3+5o4Go20OWO04Usi95jT6/V+0H/xPf4CCB3ZyQH+PTYAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="delete player"
        title="delete player"
        src="/static/d60050e395fc3a5506ef8dbc9332ce1b/1d69c/delete_method.png"
        srcset="/static/d60050e395fc3a5506ef8dbc9332ce1b/4dcb9/delete_method.png 188w,
/static/d60050e395fc3a5506ef8dbc9332ce1b/5ff7e/delete_method.png 375w,
/static/d60050e395fc3a5506ef8dbc9332ce1b/1d69c/delete_method.png 750w,
/static/d60050e395fc3a5506ef8dbc9332ce1b/5819f/delete_method.png 1042w"
        sizes="(max-width: 750px) 100vw, 750px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>ลองเช็คดูว่าหายมั้ย</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 750px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 40.42553191489361%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABbElEQVQoz21RyU4CURCci6KGTUH2bdiUXRCGZdhENgUxUTEe1P//i7KriSQaDpXX/V5NdXWNkbeeYTZWiFcXSNUfESpOkZbelNqsr/Qu23yC8qRO3jxIvUHweoKzeAeuZA/OZFfQ094IFe4RKc1EcIloebYnuVI7eNJ9JUfLc6Rv1wiXpirMQR5z90Z40wPlGoGrO3VFUqK21Po8M4Az0d2T3SkbHMx3FdSNltpzG4rTFA0Y/txIyWX7FbXhOyr9LWKVhT5yqtu0cRxuwie8jKzOGKzpJ9rzLxXjcH9+LOdQBxu+7BCX4pIZFXsvIvyG6mArH69RH3+gIWAU5ORaG82wM/9GSQw4opYOOxIwKkYgGU6QEPvhwkxzojtO5l1EhAISflhioEM6uRADrOmM7rmFV7Jjz+w1Q/7hYG0kLsbqhEKMgRMdkZbAwmmsjZPo3/MQjLg4ilTkR9gNWaG5WyG0W4Niv8RDYqz/4wcUse7MW5zSBwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="delete sql"
        title="delete sql"
        src="/static/d7a120bee90727e24490c78b241ed101/1d69c/delete_sql.png"
        srcset="/static/d7a120bee90727e24490c78b241ed101/4dcb9/delete_sql.png 188w,
/static/d7a120bee90727e24490c78b241ed101/5ff7e/delete_sql.png 375w,
/static/d7a120bee90727e24490c78b241ed101/1d69c/delete_sql.png 750w,
/static/d7a120bee90727e24490c78b241ed101/78797/delete_sql.png 1125w,
/static/d7a120bee90727e24490c78b241ed101/51800/delete_sql.png 1196w"
        sizes="(max-width: 750px) 100vw, 750px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>เรียบร้อยยย โดนลบไปแล้ววววว</p>
<p>Code ทั้งหมดของ routes และ controllers ก็จะได้เป็นแบบนี้</p>
<pre class="grvsc-container dark-default-dark" data-language="typescript" data-index="22"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk3">// routes/player.ts</span></span>
<span class="grvsc-line"><span class="mtk15">import</span><span class="mtk1"> </span><span class="mtk4">*</span><span class="mtk1"> </span><span class="mtk15">as</span><span class="mtk1"> </span><span class="mtk12">express</span><span class="mtk1"> </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;express&#39;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk15">import</span><span class="mtk1"> { </span><span class="mtk12">Router</span><span class="mtk1"> } </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;express&#39;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk15">import</span><span class="mtk1"> {</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">createPlayer</span><span class="mtk1">,</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">getAllPlayers</span><span class="mtk1">,</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">updatePlayerById</span><span class="mtk1">,</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">deletePlayerById</span></span>
<span class="grvsc-line"><span class="mtk1">} </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;../controllers/player&#39;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">router</span><span class="mtk1">: </span><span class="mtk10">Router</span><span class="mtk1"> = </span><span class="mtk12">express</span><span class="mtk1">.</span><span class="mtk11">Router</span><span class="mtk1">();</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk12">router</span><span class="mtk1">.</span><span class="mtk11">post</span><span class="mtk1">(</span><span class="mtk8">&#39;/&#39;</span><span class="mtk1">, </span><span class="mtk12">createPlayer</span><span class="mtk1">);</span></span>
<span class="grvsc-line"><span class="mtk12">router</span><span class="mtk1">.</span><span class="mtk11">get</span><span class="mtk1">(</span><span class="mtk8">&#39;/&#39;</span><span class="mtk1">, </span><span class="mtk12">getAllPlayers</span><span class="mtk1">);</span></span>
<span class="grvsc-line"><span class="mtk12">router</span><span class="mtk1">.</span><span class="mtk11">put</span><span class="mtk1">(</span><span class="mtk8">&#39;/:id&#39;</span><span class="mtk1">, </span><span class="mtk12">updatePlayerById</span><span class="mtk1">);</span></span>
<span class="grvsc-line"><span class="mtk12">router</span><span class="mtk1">.</span><span class="mtk11">delete</span><span class="mtk1">(</span><span class="mtk8">&#39;/:id&#39;</span><span class="mtk1">, </span><span class="mtk12">deletePlayerById</span><span class="mtk1">);</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk15">export</span><span class="mtk1"> </span><span class="mtk15">default</span><span class="mtk1"> </span><span class="mtk12">router</span><span class="mtk1">;</span></span></code></pre>
<pre class="grvsc-container dark-default-dark" data-language="typescript" data-index="23"><code class="grvsc-code"><span class="grvsc-line"><span class="mtk3">// controllers/player.ts</span></span>
<span class="grvsc-line"><span class="mtk15">import</span><span class="mtk1"> { </span><span class="mtk12">getRepository</span><span class="mtk1"> } </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;typeorm&#39;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk15">import</span><span class="mtk1"> { </span><span class="mtk12">Request</span><span class="mtk1">, </span><span class="mtk12">Response</span><span class="mtk1"> } </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;express&#39;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk15">import</span><span class="mtk1"> { </span><span class="mtk12">Player</span><span class="mtk1"> } </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#39;../entity/Player&#39;</span><span class="mtk1">;</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk15">export</span><span class="mtk1"> </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk11">createPlayer</span><span class="mtk1"> = </span><span class="mtk4">async</span><span class="mtk1"> (</span><span class="mtk12">req</span><span class="mtk1">: </span><span class="mtk10">Request</span><span class="mtk1">, </span><span class="mtk12">res</span><span class="mtk1">: </span><span class="mtk10">Response</span><span class="mtk1">) </span><span class="mtk4">=&gt;</span><span class="mtk1"> {</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk4">let</span><span class="mtk1"> </span><span class="mtk12">player</span><span class="mtk1"> = </span><span class="mtk4">new</span><span class="mtk1"> </span><span class="mtk10">Player</span><span class="mtk1">();</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">player</span><span class="mtk1"> = { ...</span><span class="mtk12">req</span><span class="mtk1">.</span><span class="mtk12">body</span><span class="mtk1"> };</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">playerRepository</span><span class="mtk1"> = </span><span class="mtk11">getRepository</span><span class="mtk1">(</span><span class="mtk12">Player</span><span class="mtk1">);</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk15">await</span><span class="mtk1"> </span><span class="mtk12">playerRepository</span><span class="mtk1">.</span><span class="mtk11">save</span><span class="mtk1">(</span><span class="mtk12">player</span><span class="mtk1">);</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">res</span><span class="mtk1">.</span><span class="mtk11">send</span><span class="mtk1">(</span><span class="mtk12">player</span><span class="mtk1">);</span></span>
<span class="grvsc-line"><span class="mtk1">};</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk15">export</span><span class="mtk1"> </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk11">getAllPlayers</span><span class="mtk1"> = </span><span class="mtk4">async</span><span class="mtk1"> (</span><span class="mtk12">req</span><span class="mtk1">: </span><span class="mtk10">Request</span><span class="mtk1">, </span><span class="mtk12">res</span><span class="mtk1">: </span><span class="mtk10">Response</span><span class="mtk1">) </span><span class="mtk4">=&gt;</span><span class="mtk1"> {</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">playerRepository</span><span class="mtk1"> = </span><span class="mtk11">getRepository</span><span class="mtk1">(</span><span class="mtk12">Player</span><span class="mtk1">);</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">players</span><span class="mtk1"> = </span><span class="mtk15">await</span><span class="mtk1"> </span><span class="mtk12">playerRepository</span><span class="mtk1">.</span><span class="mtk11">find</span><span class="mtk1">();</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">res</span><span class="mtk1">.</span><span class="mtk11">send</span><span class="mtk1">(</span><span class="mtk12">players</span><span class="mtk1">);</span></span>
<span class="grvsc-line"><span class="mtk1">};</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk15">export</span><span class="mtk1"> </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk11">updatePlayerById</span><span class="mtk1"> = </span><span class="mtk4">async</span><span class="mtk1"> (</span><span class="mtk12">req</span><span class="mtk1">: </span><span class="mtk10">Request</span><span class="mtk1">, </span><span class="mtk12">res</span><span class="mtk1">: </span><span class="mtk10">Response</span><span class="mtk1">) </span><span class="mtk4">=&gt;</span><span class="mtk1"> {</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> { </span><span class="mtk12">name</span><span class="mtk1">, </span><span class="mtk12">position</span><span class="mtk1"> } = </span><span class="mtk12">req</span><span class="mtk1">.</span><span class="mtk12">body</span><span class="mtk1">;</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">playerRepository</span><span class="mtk1"> = </span><span class="mtk11">getRepository</span><span class="mtk1">(</span><span class="mtk12">Player</span><span class="mtk1">);</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk15">await</span><span class="mtk1"> </span><span class="mtk12">playerRepository</span><span class="mtk1">.</span><span class="mtk11">update</span><span class="mtk1">(</span><span class="mtk10">Number</span><span class="mtk1">(</span><span class="mtk12">req</span><span class="mtk1">.</span><span class="mtk12">params</span><span class="mtk1">.</span><span class="mtk12">id</span><span class="mtk1">), {</span></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk12">name</span><span class="mtk1">,</span></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk12">position</span></span>
<span class="grvsc-line"><span class="mtk1">  });</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">updatedPlayer</span><span class="mtk1"> = </span><span class="mtk15">await</span><span class="mtk1"> </span><span class="mtk12">playerRepository</span><span class="mtk1">.</span><span class="mtk11">find</span><span class="mtk1">({</span></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk12">id:</span><span class="mtk1"> </span><span class="mtk10">Number</span><span class="mtk1">(</span><span class="mtk12">req</span><span class="mtk1">.</span><span class="mtk12">params</span><span class="mtk1">.</span><span class="mtk12">id</span><span class="mtk1">)</span></span>
<span class="grvsc-line"><span class="mtk1">  });</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">res</span><span class="mtk1">.</span><span class="mtk11">send</span><span class="mtk1">(</span><span class="mtk12">updatedPlayer</span><span class="mtk1">);</span></span>
<span class="grvsc-line"><span class="mtk1">};</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk15">export</span><span class="mtk1"> </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk11">deletePlayerById</span><span class="mtk1"> = </span><span class="mtk4">async</span><span class="mtk1"> (</span><span class="mtk12">req</span><span class="mtk1">: </span><span class="mtk10">Request</span><span class="mtk1">, </span><span class="mtk12">res</span><span class="mtk1">: </span><span class="mtk10">Response</span><span class="mtk1">) </span><span class="mtk4">=&gt;</span><span class="mtk1"> {</span></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">playerRepository</span><span class="mtk1"> = </span><span class="mtk11">getRepository</span><span class="mtk1">(</span><span class="mtk12">Player</span><span class="mtk1">);</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">player</span><span class="mtk1"> = </span><span class="mtk15">await</span><span class="mtk1"> </span><span class="mtk12">playerRepository</span><span class="mtk1">.</span><span class="mtk11">find</span><span class="mtk1">({</span></span>
<span class="grvsc-line"><span class="mtk1">    </span><span class="mtk12">id:</span><span class="mtk1"> </span><span class="mtk10">Number</span><span class="mtk1">(</span><span class="mtk12">req</span><span class="mtk1">.</span><span class="mtk12">params</span><span class="mtk1">.</span><span class="mtk12">id</span><span class="mtk1">)</span></span>
<span class="grvsc-line"><span class="mtk1">  });</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk15">await</span><span class="mtk1"> </span><span class="mtk12">playerRepository</span><span class="mtk1">.</span><span class="mtk11">remove</span><span class="mtk1">(</span><span class="mtk12">player</span><span class="mtk1">);</span></span>
<span class="grvsc-line"></span>
<span class="grvsc-line"><span class="mtk1">  </span><span class="mtk12">res</span><span class="mtk1">.</span><span class="mtk11">send</span><span class="mtk1">(</span><span class="mtk8">`Player id </span><span class="mtk4">${</span><span class="mtk12">req</span><span class="mtk1">.</span><span class="mtk12">params</span><span class="mtk1">.</span><span class="mtk12">id</span><span class="mtk4">}</span><span class="mtk8"> has been deleted.`</span><span class="mtk1">);</span></span>
<span class="grvsc-line"><span class="mtk1">};</span></span></code></pre>
<p>Blog นี้ก็ขอจบเพียงเท่านี้ก่อนนะครับ หวังว่าจะเป็นประโยชน์ต่อผู้ที่สนใจทุกท่าน อาจจะไม่สมบูรณ์เท่าไหร่ เพราะผมเองก็ยังใหม่กับ Typescript แต่ก็จะพยายามฝึกฝนให้เขียนดีกว่านี้ และอธิบายได้ดีกว่านี้นะครับ Blog ต่อไปอาจจะมาเพิ่มเติมเกี่ยว User aนuthentication ดูครับผมมม</p>
<p>Happy Coding :)</p>
<style class="grvsc-styles">
  .grvsc-container {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
    padding-top: 1rem;
    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));
    padding-bottom: 1rem;
    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));
    border-radius: 8px;
    border-radius: var(--grvsc-border-radius, 8px);
    font-feature-settings: normal;
  }
  
  .grvsc-code {
    display: inline-block;
    min-width: 100%;
  }
  
  .grvsc-line {
    display: inline-block;
    box-sizing: border-box;
    width: 100%;
    padding-left: 1.5rem;
    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));
    padding-right: 1.5rem;
    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));
  }
  
  .grvsc-line-highlighted {
    background-color: var(--grvsc-line-highlighted-background-color, transparent);
    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, transparent);
  }
  
  .dark-default-dark {
    background-color: #1E1E1E;
    color: #D4D4D4;
  }
  .dark-default-dark .mtk1 { color: #D4D4D4; }
  .dark-default-dark .mtk11 { color: #DCDCAA; }
  .dark-default-dark .mtk3 { color: #6A9955; }
  .dark-default-dark .mtk12 { color: #9CDCFE; }
  .dark-default-dark .mtk8 { color: #CE9178; }
  .dark-default-dark .mtk4 { color: #569CD6; }
  .dark-default-dark .mtk7 { color: #B5CEA8; }
  .dark-default-dark .mtk15 { color: #C586C0; }
  .dark-default-dark .mtk10 { color: #4EC9B0; }
</style></div></div><footer class="footer-module--footer--R2bpz"><p>Created by <!-- -->Teerapat Prommarak<!-- -->, © 2019</p></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/rest-api-with-node-typescript";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-7c8a4a9d5c0752ddb204.js"],"component---src-pages-404-js":["/component---src-pages-404-js-5bc967bf7ff314ac5dcc.js"],"component---src-pages-about-js":["/component---src-pages-about-js-941f0df9ccfabe613bad.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-dfeb3189b25285bfadbc.js"],"component---src-pages-contact-js":["/component---src-pages-contact-js-115549aa2d4ad918ee03.js"],"component---src-pages-index-js":["/component---src-pages-index-js-1c15c8a43ac648e874d5.js"],"component---src-pages-project-js":["/component---src-pages-project-js-b6a3536dbcc7484ca12e.js"],"component---src-templates-blog-js":["/component---src-templates-blog-js-867934d5ffdf2c9a0ba9.js"]};/*]]>*/</script><script src="/component---src-templates-blog-js-867934d5ffdf2c9a0ba9.js" async=""></script><script src="/c586bda9efbc7530837acf9773422eadb5d6eff5-2914c1eedea1493168c5.js" async=""></script><script src="/styles-9b6f388623a2ec93d35f.js" async=""></script><script src="/app-7c8a4a9d5c0752ddb204.js" async=""></script><script src="/framework-64f3795d64a6338f8fd0.js" async=""></script><script src="/webpack-runtime-ad969fdba1f8fd72bf44.js" async=""></script></body></html>