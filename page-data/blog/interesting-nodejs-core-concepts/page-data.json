{"componentChunkName":"component---src-templates-blog-js","path":"/blog/interesting-nodejs-core-concepts","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Interesting Node.js Core Concepts","date":"2022-05-14"},"html":"<p>I have been using Node.js for around 2-3 years. Most of the time is about building REST API or GraphQL API. Every project uses Node.js libraries a lot to help the team bootstrapping the project easily and quickly. Sometimes I feel like I jumped into building the API too quickly, instead of understanding its internal core concept first. Today, I just finished the <strong><a href=\"https://app.pluralsight.com/library/courses/nodejs-advanced/table-of-contents\">Advanced Node.js</a></strong> from <strong><a href=\"https://www.pluralsight.com/\">Pluralsight</a></strong> taught by <strong><a href=\"https://twitter.com/samerbuna\">Samer Buna</a></strong> and I found many interesting topics I would like to share to other people. I think it would be great if you learn these concept of Node.js before building the REST API from other courses or tutorials. I also recommend you check out this course (no affiliate)</p>\n<h2>Node.js and Javascript Engine</h2>\n<p>As you already known, Node.js runs on the V8 engine give us an ability to execute Javascript code outside the browser. But actually, V8 is just a one options from many. Node.js also can use other Javascript engine as a VM like <strong><a href=\"https://github.com/nodejs/node-chakracore\">node-chakracore</a></strong>. Unfortunately, this project seems no longer active anymore.</p>\n<p>you can use command <code>node --v8-options</code> to list the options features from V8 engine. Here I list all <code>--harmony</code> flag, which means you need to provide <code>--harmony</code> flag in order to get these features work.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 35.638297872340424%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABOElEQVQoz22R6W7CMBCE8xRtgV70IIAg90VCDjvBiU0g9P0fZiovQWqr/hiNbcnfzu4aZsaRMIWoHuA1Z4RyQCwUrKLFOhd4DUvMnJQ0dVI8ehn5xN5hqjW+T8azYcYVvPwAqz7C4kdsSgmLKThalYTNFDaVxHb0ddHhPeF4iysqRopKPPs5ubFMGKKyhduc4DQnuHUPnyv4TMETAzxxJtAqF+TzqMTMzfASFHiwEtxtItL9NiY3VglDxiV9DrsvBO0FvhiogL5r4GdaE2AeXVPdQNr/agQqBN2FAKE4IxIDAiZhle3YZkstPnl7muVPgE72C7iMK6RcUiqdToOTpkfAFIKmR9hesMgOlE6n1IAb5C+MgGbKEBSCFuLUPbldSbhVB5tfF2XuD1ikDT52nAavN/ofTAO/AToW4+NERH32AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"v8 options\"\n        title=\"v8 options\"\n        src=\"/static/e34d2a68f78140f1f6a07b05d746504f/1d69c/v8-options.png\"\n        srcset=\"/static/e34d2a68f78140f1f6a07b05d746504f/4dcb9/v8-options.png 188w,\n/static/e34d2a68f78140f1f6a07b05d746504f/5ff7e/v8-options.png 375w,\n/static/e34d2a68f78140f1f6a07b05d746504f/1d69c/v8-options.png 750w,\n/static/e34d2a68f78140f1f6a07b05d746504f/78797/v8-options.png 1125w,\n/static/e34d2a68f78140f1f6a07b05d746504f/aa440/v8-options.png 1500w,\n/static/e34d2a68f78140f1f6a07b05d746504f/319c6/v8-options.png 2980w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2>REPL</h2>\n<p>You might have played around with the REPL after you installed Node.js on your machine. It give us a convenience way to interact with Javascript in the terminal. Here are some useful tips when you use the REPL in Node.js</p>\n<h3>Auto-Complete</h3>\n<p>You can double press <code>Tab</code> button to list all global objects in Node.js</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.93617021276595%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAACBUlEQVQoz22Q2W8SURTG59EYNampaNkKLWWH2YFhhm0YFgeqJG3iiwmx2lS7RASU1ib+5/d+5hxDHxofbnLuWX7n+47ydf1bfPmxEfPrpZhfLcWnm5X4cH7FuevbP+Ls+08xv1mJb7/uxefFRpwvb8XF6o7zHy8X3HOxvhdni424XN8JJecG2C3ZeHGkIusOcFDv4VmminS9i4zTx/MjFVGtiX27jSepInbyBgrtESLlGp4elJHzBjjiPg0FL4DSCE9k3hvKhOFJazSTWTeQkXJNVnsTmW0Gck91ZM4bSC2YyqjWlOlaV9rjmUxaLa6Zw/dS9ScyUqlLM5hKpdoLka51sKc60IJjFNtjVlTuvuXtryt1ZBo+nOkpq48bLqzRDCm7jd2iDT045t6dvAndD6Go/oTtJK0WKr0Q+dYQb6oNlDpjtkbxYcNHY3KKhOEhpjVRD09gDN4hXeui6k949gGY9wasLq67KLZHHNNNKSYgxRnHhzWesVqCkkJSS3CtP8Vho8e31fshlG2ClFS6IfatNl6VbLZB2+n4WyVRzeFzkLqsG3CNnKTszj8gKSQlMd19sLlVSRCCUz5ueEiaLXaRMFucT5ge18guLSLLVhBCKbSGfGiyE9ObHFMjQQkSVZ2HmIYZanj8eJnu8tspmDDI8naAgI9f5PG/XP9vH4FfFiy2/BcmrkmldUGZzQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"auto complete\"\n        title=\"auto complete\"\n        src=\"/static/0d6dfdd6114d9e3db647d557ba2bc9b4/1d69c/auto-complete.png\"\n        srcset=\"/static/0d6dfdd6114d9e3db647d557ba2bc9b4/4dcb9/auto-complete.png 188w,\n/static/0d6dfdd6114d9e3db647d557ba2bc9b4/5ff7e/auto-complete.png 375w,\n/static/0d6dfdd6114d9e3db647d557ba2bc9b4/1d69c/auto-complete.png 750w,\n/static/0d6dfdd6114d9e3db647d557ba2bc9b4/78797/auto-complete.png 1125w,\n/static/0d6dfdd6114d9e3db647d557ba2bc9b4/aa440/auto-complete.png 1500w,\n/static/0d6dfdd6114d9e3db647d557ba2bc9b4/59173/auto-complete.png 3014w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>It also works on any object in Node.js as well, such as <code>http.</code> and double press <code>Tab</code></p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"shell\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">&gt; http.</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">http.__proto__             http.constructor           http.hasOwnProperty        http.isPrototypeOf</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">http.propertyIsEnumerable  http.toLocaleString        http.toString              http.valueOf</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">http.Agent                 http.ClientRequest         http.IncomingMessage       http.METHODS</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">http.OutgoingMessage       http.STATUS_CODES          http.Server                http.ServerResponse</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">http._connectionListener   http.createServer          http.get                   http.globalAgent</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">http.maxHeaderSize         http.request               http.validateHeaderName    http.validateHeaderValue</span></span></code></pre>\n<p>You can access to the last evaluated value by using the <code>_</code> variable and also can assign to another variable too.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"javascript\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">&gt;</span><span class=\"mtk1\"> Math.</span><span class=\"mtk7\">random</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">0.7172339982201723</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">_</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">0.7172339982201723</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk13 mtkb\">let</span><span class=\"mtk1\"> </span><span class=\"mtk7\">lastVal</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">_</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk5\">undefined</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">lastVal</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">0.7172339982201723</span></span></span></code></pre>\n<p>The special commands in Node.js REPL is <code>.</code> (dot), if you type command <code>.</code> and press double <code>Tab</code></p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"shell\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">&gt; .</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">break   clear   editor  exit    help    load    save</span></span></code></pre>\n<p>If you type command <code>.help</code> and enter it will list all commands above with its description</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"shell\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">&gt; .help</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">.break    Sometimes you get stuck, this gets you out</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">.clear    Alias for .break</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">.editor   Enter editor mode</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">.exit     Exit the REPL</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">.help     Print this help message</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">.load     Load JS from a file into the REPL session</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">.save     Save all evaluated commands in this REPL session to a file</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Press Ctrl+C to abort current expression, Ctrl+D to exit the REPL</span></span></code></pre>\n<p>You can use <code>.editor</code> to enter the <code>editor</code> mode that give you the multi-line editor in the REPL and press <code>ctrl+D</code> when you done. You can learn more REPL in official documentation.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"javascript\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">&gt;</span><span class=\"mtk1\"> .</span><span class=\"mtk7\">editor</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3 mtki\">// Entering editor mode (Ctrl+D to finish, Ctrl+C to cancel)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk13 mtkb\">const</span><span class=\"mtk1\"> </span><span class=\"mtk7\">add</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> (x, y) </span><span class=\"mtk13 mtkb\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk8\">return</span><span class=\"mtk1\"> </span><span class=\"mtk7\">x</span><span class=\"mtk1\"> </span><span class=\"mtk8\">+</span><span class=\"mtk1\"> </span><span class=\"mtk7\">y</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span></code></pre>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.17021276595745%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAy0lEQVQoz6WP3QqCQBSE9yXKyn40DbxIK1N3Vw13jSIqgqDe/1EmPPYHdlNdDGeZWb5zhk2ExmJzQqD3sBOFSbqup1zDESVcWcJOCoz5K3OEpmnFBVxRkt+dSRg+B4u2J8jjFfJ4ga/3mJUHePkWU1UvGC5XpEGYE3gYrTBY5uT1yVPkdwJRA0dhBitRFPbDDOY8RXuafBBvej5H6/6uYBWUWVH+vKD68Ah+EV3opRrx7kx1zUXWAH67gI3mHMYfgAawF9Q1jbe6/0BvjSHWIQQ4QgQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"repl editor\"\n        title=\"repl editor\"\n        src=\"/static/ce35ddbf93c4e44e0b4e608a3072cd8a/1d69c/dot-editor.png\"\n        srcset=\"/static/ce35ddbf93c4e44e0b4e608a3072cd8a/4dcb9/dot-editor.png 188w,\n/static/ce35ddbf93c4e44e0b4e608a3072cd8a/5ff7e/dot-editor.png 375w,\n/static/ce35ddbf93c4e44e0b4e608a3072cd8a/1d69c/dot-editor.png 750w,\n/static/ce35ddbf93c4e44e0b4e608a3072cd8a/78797/dot-editor.png 1125w,\n/static/ce35ddbf93c4e44e0b4e608a3072cd8a/e2d3b/dot-editor.png 1466w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>You can load the Javascript file into the REPL using <code>.load</code> command</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.14893617021278%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB6klEQVQ4y5WS+W7aQBjE/QypAuYs4KRg8G3s9YEvfHEYklZR3/9FvFPtNqVVS0nyx0+rlXZHM/N9wrJqWjk/tKvq1MrFsV0Ux1YvmtaKDm0UP7dO1LRfyLaduEk7c9N26iY3EUTFRUdxMTQDzMMcEklhlWfImxpjK4KoEHRVF6JKIGqEn90bCD3No4yhGdCJl9ORs6WSl1HJD+hkHdCR4dGhtaFdldD7lUNFldBff64hDM0QI2sDUQ8gbUssjwUesw3kfQlSZQiKDaYkwcRJoG2PGNkROsyN5l132Nc89DQPfZVgoLvoaRa6moOOFqJv+JyeRjAwAnxex+jr/mt87yrCOEghRSWkuMRDUmMWV5DjGvNg+/Oj6vGOuQPF5T32Xk1cQ7B3T9CLE9S8gVGdYdbs3sAsT7CrJyjpHjOSYWCGXFT8T9RLZCXZ8ana5Rnr+hlqdsA8LDEjKRdiPPg57657I+ol8iquEZ6/wyhO8I4v8JsXuPtvXIg9kLyM99fhcb03RQVW9NRNeeFsklM34XcWkW3AYlNivH6fOy44skKM7Yivzp1s425h/R6CSnC/cviaXLp7S1BN93B2X6GzoRQn2PUzHv38n3jvdmhXZxhFAzmquCjjz4l+FB6ZdcVEPi3XnL/X4yOCPwD227HUuaVCsQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"repl load\"\n        title=\"repl load\"\n        src=\"/static/235cea3282f4542079222b8e5dc21b3d/1d69c/repl-load.png\"\n        srcset=\"/static/235cea3282f4542079222b8e5dc21b3d/4dcb9/repl-load.png 188w,\n/static/235cea3282f4542079222b8e5dc21b3d/5ff7e/repl-load.png 375w,\n/static/235cea3282f4542079222b8e5dc21b3d/1d69c/repl-load.png 750w,\n/static/235cea3282f4542079222b8e5dc21b3d/78797/repl-load.png 1125w,\n/static/235cea3282f4542079222b8e5dc21b3d/ccf0c/repl-load.png 1428w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2>Global Object, Process, and Buffer</h2>\n<p>You can use <code>global</code> objects in Node.js without using the <code>require</code> keyword. One of the most important global object is <code>process</code> so, let's talk about it</p>\n<h3>Process</h3>\n<p>The <code>process</code> object provides information about, and control over, the current Node.js process application and its environment. You most you use in Node.js app is might be <code>process.env</code> to manage user environment. Here are some other useful properties of <code>process</code> object</p>\n<p>You can use <code>process.versions</code> to list all version numbers and its dependencies</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"javascript\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">&gt;</span><span class=\"mtk1\"> process.versions</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  node: </span><span class=\"mtk11\">&#39;18.12.1&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  v8: </span><span class=\"mtk11\">&#39;10.2.154.15-node.12&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  uv: </span><span class=\"mtk11\">&#39;1.43.0&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  zlib: </span><span class=\"mtk11\">&#39;1.2.11&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  brotli: </span><span class=\"mtk11\">&#39;1.0.9&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  ares: </span><span class=\"mtk11\">&#39;1.18.1&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  modules: </span><span class=\"mtk11\">&#39;108&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  nghttp2: </span><span class=\"mtk11\">&#39;1.47.0&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  napi: </span><span class=\"mtk11\">&#39;8&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  llhttp: </span><span class=\"mtk11\">&#39;6.0.10&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  openssl: </span><span class=\"mtk11\">&#39;3.0.7+quic&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  cldr: </span><span class=\"mtk11\">&#39;41.0&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  icu: </span><span class=\"mtk11\">&#39;71.1&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  tz: </span><span class=\"mtk11\">&#39;2022b&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  unicode: </span><span class=\"mtk11\">&#39;14.0&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  ngtcp2: </span><span class=\"mtk11\">&#39;0.8.1&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  nghttp3: </span><span class=\"mtk11\">&#39;0.7.0&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>You can use <code>process.release</code> to get the label of your Node.js version in your machine.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"javascript\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">&gt;</span><span class=\"mtk1\"> process.release</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  name: </span><span class=\"mtk11\">&#39;node&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  lts: </span><span class=\"mtk11\">&#39;Hydrogen&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  sourceUrl: </span><span class=\"mtk11\">&#39;https://nodejs.org/download/release/v18.12.1/node-v18.12.1.tar.gz&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  headersUrl: </span><span class=\"mtk11\">&#39;https://nodejs.org/download/release/v18.12.1/node-v18.12.1-headers.tar.gz&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>The process object is an instance of the <code>Event Emitter</code> so you can listen to specific events on the process</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"javascript\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3 mtki\">// process object</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">process.</span><span class=\"mtk7\">on</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;exit&#39;</span><span class=\"mtk1\">, code </span><span class=\"mtk13 mtkb\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3 mtki\">// do one final synchronouse operation</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3 mtki\">// before the node process terminates</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk8\">console</span><span class=\"mtk1\">.</span><span class=\"mtk7\">log</span><span class=\"mtk1\">(</span><span class=\"mtk11\">`About to exit with code ${</span><span class=\"mtk7\">code</span><span class=\"mtk11\">}`</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">});</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">process.</span><span class=\"mtk7\">on</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;uncaughtException&#39;</span><span class=\"mtk1\">, err </span><span class=\"mtk13 mtkb\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3 mtki\">// something went wrong and unhandle</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3 mtki\">// clean up and exit</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk8\">console</span><span class=\"mtk1\">.</span><span class=\"mtk7\">error</span><span class=\"mtk1\">(</span><span class=\"mtk7\">err</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  process.</span><span class=\"mtk7\">exit</span><span class=\"mtk1\">(</span><span class=\"mtk6\">1</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">});</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3 mtki\">// keep the event loop running</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">process.stdin.</span><span class=\"mtk7\">resume</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3 mtki\">// trigger a ReferenceError exception</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">notExistFunc</span><span class=\"mtk1\">();</span></span></span></code></pre>\n<p>TODO Process จะกลับมาอธิบายใหม่</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.127659574468087%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA10lEQVQY002Pa3KEIBCEPYigovJQEd1VIMmazf0v1VszG1L58VXDVE1Pd6Wtxe3xjf36wZY/8Xxc+DoybtuO4zgYay1jjIFzDlprjOPIf2IYBvR9DyklqkZKBO+RY8T5a3A/7qzneSLnjJQSa4wR+75jnmdmmiY2U0qh67q3oRQCVmuEZcHqF6zrikCEwG9i2zZ47xkyoZTFpG1bRgjBVFR5SR8I1xMhZU5G12mJoEpUj5bIgIyoHmmhpOOErVKQxqF2C4Q2aJqGL9V1/aflXSiz/3Myo4QvlgiSgXucCngAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"process\"\n        title=\"process\"\n        src=\"/static/c54324b9540a04981c7988f702c2cb43/1d69c/process-exit.png\"\n        srcset=\"/static/c54324b9540a04981c7988f702c2cb43/4dcb9/process-exit.png 188w,\n/static/c54324b9540a04981c7988f702c2cb43/5ff7e/process-exit.png 375w,\n/static/c54324b9540a04981c7988f702c2cb43/1d69c/process-exit.png 750w,\n/static/c54324b9540a04981c7988f702c2cb43/78797/process-exit.png 1125w,\n/static/c54324b9540a04981c7988f702c2cb43/aa440/process-exit.png 1500w,\n/static/c54324b9540a04981c7988f702c2cb43/0faf1/process-exit.png 1956w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3>Buffer</h3>\n<p>The <code>Buffer</code> class is heavily use in Node.js in order to work with the binary streams of data. When converting between <code>Buffers</code> and strings, a character encoding may be specified. If no character encoding is specified, <code>UTF-8</code> will be used as the default. The Buffer is a lower-level data structure to represent a sequence of binary data that cannot be resized when Buffer is allowcate.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"javascript\" data-index=\"8\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk13 mtkb\">const</span><span class=\"mtk1\"> { </span><span class=\"mtk7\">Buffer</span><span class=\"mtk1\"> } </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">require</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;buffer&#39;</span><span class=\"mtk1\">);</span></span></span></code></pre>\n<p>TODO Buffer จะกลับมาอธิบายใหม่ with String decoder</p>\n<h2>Require Function</h2>\n<p><code>require</code> is a <strong>must</strong> understanding how it works in Node.js module. To execute the <code>require</code> call, Node.js goes through the following sequence of steps:</p>\n<ol>\n<li>Resolving: Find the absolute file path of a module.</li>\n<li>Loading: Determined by the content of the file at the resolved path.</li>\n<li>Wrapping: Gives every module in its private scope, and makes <code>require</code> local to every module.</li>\n<li>Evaluating: Excute the code.</li>\n<li>Caching: When <code>require</code> the same module, we don't need to go over all steps again.</li>\n</ol>\n<p>Here are what you will get when <code>console.log(module);</code> in Javascript file</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"javascript\" data-index=\"9\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">Module</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  id: </span><span class=\"mtk11\">&#39;.&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  path: </span><span class=\"mtk11\">&#39;/Users/teerapatprommarak/Project/nodejs/for-node-blog&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  exports: {},</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  filename: </span><span class=\"mtk11\">&#39;/Users/teerapatprommarak/Project/nodejs/for-node-blog/module.js&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  loaded: </span><span class=\"mtk5\">false</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  children: [],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  paths: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">&#39;/Users/teerapatprommarak/Project/nodejs/for-node-blog/node_modules&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">&#39;/Users/teerapatprommarak/Project/nodejs/node_modules&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">&#39;/Users/teerapatprommarak/Project/node_modules&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">&#39;/Users/teerapatprommarak/node_modules&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">&#39;/Users/node_modules&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">&#39;/node_modules&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  ]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .solarized-light { background-color: #FDF6E3; }\n  .solarized-light .mtki { font-style: italic; }\n  .solarized-light .mtkb { font-weight: bold; }\n  .solarized-light .mtk8 { color: #859900; }\n  .solarized-light .mtk1 { color: #657B83; }\n  .solarized-light .mtk7 { color: #268BD2; }\n  .solarized-light .mtk6 { color: #D33682; }\n  .solarized-light .mtk13 { color: #073642; }\n  .solarized-light .mtk5 { color: #B58900; }\n  .solarized-light .mtk3 { color: #93A1A1; }\n  .solarized-light .mtk11 { color: #2AA198; }\n  .solarized-light .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));\n  }\n</style>"}},"pageContext":{"slug":"interesting-nodejs-core-concepts"}},"staticQueryHashes":["3159585216","3364050859","4152315797","440568431"]}